<div class="w-full p-4 md:p-8 lg:p-12">
  <div class="bg-white rounded-3xl safe-shadow border border-gray-100 overflow-hidden">
    <!-- Header -->
    <div class="p-8 md:p-12 border-b border-gray-50 bg-gradient-to-br from-emerald-50/50 via-white to-white relative">
      <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-50/30 rounded-full blur-3xl -mr-20 -mt-20"></div>
      
      <div class="relative flex flex-col md:flex-row justify-between items-start md:items-center gap-8">
        <div class="flex-1">
          <nav class="flex mb-6 text-xs font-bold uppercase tracking-widest text-gray-400" aria-label="Breadcrumb">
            <a href="/jobs" class="hover:text-emerald-600 transition-colors">Explore Jobs</a>
            <span class="mx-2 text-gray-200">/</span>
            <span class="text-emerald-600">Job Opportunity</span>
          </nav>
          
          <h1 class="text-3xl md:text-5xl font-extrabold text-gray-900 mb-4 leading-tight">{{ job.name }}</h1>
          
          <div class="flex flex-wrap items-center gap-4">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-emerald-100 text-emerald-700 rounded-xl flex items-center justify-center font-bold">
                {{ job.company.name.charAt(0) }}
              </div>
              <div>
                <p class="text-sm font-bold text-gray-900 leading-none mb-1">{{ job.company.name }}</p>
                <p class="text-xs text-emerald-600 font-semibold">{{ formatDate(job.publication_date) }}</p>
              </div>
            </div>
            
            <div class="h-6 w-px bg-gray-100 hidden sm:block"></div>
            
            <div class="flex items-center text-gray-500 text-sm font-medium">
              <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              </svg>
              @for (loc of job.locations; track loc.name; let last = $last) {
                {{ loc.name }}{{ !last ? ', ' : '' }}
              }
            </div>
          </div>
        </div>
        
        <a [href]="job.refs.landing_page" target="_blank" class="btn-primary px-8 py-4 text-lg">
          Apply for this position
        </a>
      </div>
      
      <div class="mt-10 flex flex-wrap gap-2">
        @for (cat of job.categories; track cat.name) {
          <span class="px-3 py-1.5 bg-gray-50 text-gray-600 text-[10px] font-bold uppercase tracking-wider rounded-lg border border-gray-100">
            {{ cat.name }}
          </span>
        }
        @for (level of job.levels; track level.name) {
          <span class="px-3 py-1.5 bg-emerald-50/50 text-emerald-600 text-[10px] font-bold uppercase tracking-wider rounded-lg border border-emerald-100/50">
            {{ level.name }}
          </span>
        }
      </div>
    </div>

    <!-- Content -->
    <div class="p-8 md:p-12">
      <div class="prose prose-emerald max-w-none text-gray-700 job-contents" [innerHTML]="contentHtml">
      </div>
    </div>
    
    <!-- Footer -->
    <div class="p-8 md:p-12 bg-gray-50/50 border-t border-gray-100">
        <button class="text-gray-500 hover:text-emerald-600 font-bold text-sm flex items-center transition-all hover:-translate-x-1" (click)="window.history.back()">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back to search results
        </button>
    </div>
  </div>
</div>
